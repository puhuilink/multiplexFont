import { xungeng } from '@/utils/request'

// 获取安全狗-漏洞总览
export function getPatchStat (params) {
  return xungeng.get(`/cloudNet/getDashboard`, { params })
}
// 获取安全狗-已经安装Agent数(第一个echarts)
export function getTypeCount (params) {
  return xungeng.get(`/cloudNet/getTypeCount`, { params })
}
// 4.获取漏洞所属类型统计接口（待安全狗提供最新批量接口）
// export function getServerNum (params) {
//   return xungeng.get(`/cloudNet/serverNum`, { params })
// }
// 3.获取Agent安装统计接口(第3个echarts)
export function getAgentNum (params) {
  return xungeng.get(`/cloudNet/getAgent`, { params })
}
// 获取安全狗-月和周漏洞修复走势
export function getHistory (params) {
  return xungeng.get(`/cloudNet/getHistory`, { params })
}

export const card = [{
  id: 1,
  title: '全网已修复漏洞数', // totalRepaired
  value: '58',
  unit: '个',
  img: require('./images/icon_p04.png'),
  style: 'background: linear-gradient(135deg, #19D98B 0%, #138182 100%);border-radius: 4rpx;'
}, {
  id: 2,
  title: '全网未修复漏洞数',
  value: '18', // totalUnRepaired
  unit: '个',
  img: require('./images/icon_p02.png'),
  style: 'background: linear-gradient(135deg, #E179E1 0%, #8041BC 100%);border-radius: 4rpx;'
}, {
  id: 3,
  title: '全网影响总数',
  value: '9', // totalNum
  unit: '个',
  img: require('./images/icon_p03.png'),
  style: 'background: linear-gradient(135deg, #D8B073 0%, #936525 100%);border-radius: 4rpx;'
}, {
  id: 4,
  title: '全网平均修复率', // avgRepairedRate
  value: '98',
  unit: '%',
  img: require('./images/icon_p01.png'),
  style: 'background: linear-gradient(135deg, #04C0FE 0%, #6161FF 100%);border-radius: 4rpx;'
} ]

export const level_option = {
  title: {
    subtext: '漏洞等级占比图',
    left: 'center',
    top: '85%',
    subtextStyle: {
      fontFamily: '微软雅黑',
      fontSize: '14',
      fontWeight: 500,
      color: '#0060A3'
    }
  },
  tooltip: {
    show: true,
    trigger: 'item'
    // trigger: 'none'
  },
  grid: {
    top: '20'
  },
  series: {
    type: 'pie',
    radius: ['22%', '51%'],
    center: ['50%', '50%'],
    avoidLabelOverlap: false,
    hoverAnimation: true,
    label: {
      normal: {
        position: 'bottom',
        fontSize: 12,
        color: '#000000'
        // formatter: function (params) {
        //   var label = `${params.name}: ${params.value} `
        //   return label
        // }
      }
    },
    labelLine: {
      normal: {
        show: false,
        length: 15,
        length2: 0
      }
    },
    itemStyle: {
      normal: {
        borderWidth: 4, // 设置border的宽度有多大
        borderColor: '#FFFFFF'
      }
    },
    data: [ {
      value: 12,
      name: '危急漏洞',
      itemStyle: {
        normal: {
          color: '#DC5656'
        },
        emphasis: {
          color: '#DC5656'
        }
      }
    },
    {
      value: 40,
      name: '高危漏洞',
      itemStyle: {
        normal: {
          color: '#FFA044'
        },
        emphasis: {
          color: '#FFA044'
        }
      }
    },
    {
      value: 41,
      name: '中危漏洞',
      itemStyle: {
        normal: {
          color: '#3CA6FF'
        },
        emphasis: {
          color: '#3CA6FF'
        }
      }
    },
    {
      value: 7,
      name: '低危漏洞',
      itemStyle: {
        normal: {
          color: '#1BBF90'
        },
        emphasis: {
          color: '#1BBF90'
        }
      }
    }

    ]
  }
}

export const catogray_option = {
  title: {
    subtext: '漏洞类型占比图',
    left: 'center',
    top: '85%',
    subtextStyle: {
      fontFamily: '微软雅黑',
      fontSize: '14',
      fontWeight: 500,
      color: '#0060A3'
    }
  },
  tooltip: {
    show: true,
    trigger: 'item'
    // trigger: 'none'
  },
  grid: {
    top: '10%',
    left: '10%',
    right: '3%'
  },
  series: {
    type: 'pie',
    radius: ['22%', '51%'],
    center: ['50%', '50%'],
    avoidLabelOverlap: false,
    hoverAnimation: true,
    label: {
      normal: {
        fontSize: 12,
        color: '#000000'
        /* formatter: function (params) {
          var label = `${params.name}: ${params.value} %`
          return label
        } */
      }
    },
    labelLine: {
      normal: {
        show: false,
        length: 1,
        length2: 1
      }
    },
    itemStyle: {
      normal: {
        borderWidth: 4, // 设置border的宽度有多大
        borderColor: '#FFFFFF'
      }
    },
    data: [{
      value: 10,
      name: '资源管理错误',
      itemStyle: {
        normal: {
          color: '#3CA6FF'
        },
        emphasis: {
          color: '#3CA6FF'
        }
      }
    },
    {
      value: 17,
      name: '输入验证漏洞',
      itemStyle: {
        normal: {
          color: '#EAE174'
        },
        emphasis: {
          color: '#EAE174'
        }
      }
    },
    {
      value: 9,
      name: '缓冲区溢出漏洞',
      itemStyle: {
        normal: {
          color: '#FFA044'
        },
        emphasis: {
          color: '#FFA044'
        }
      }
    },
    {
      value: 56,
      name: '其他漏洞',
      itemStyle: {
        normal: {
          color: '#DC5656'
        },
        emphasis: {
          color: '#DC5656'
        }
      }
    }, {
      value: 8,
      name: '信息泄露',
      itemStyle: {
        normal: {
          color: '#1BBF90'
        },
        emphasis: {
          color: '#1BBF90'
        }
      }
    }
    ]
  }
}

export const total_option = {
  title: {
    subtext: '安装agent占比图',
    left: 'center',
    top: '85%',
    subtextStyle: {
      fontFamily: '微软雅黑',
      fontSize: '14',
      fontWeight: 500,
      color: '#0060A3'
    }
  },
  tooltip: {
    show: true,
    trigger: 'item'
    // trigger: 'none'
  },
  legend: {
    show: false,
    top: '5%',
    left: 'center'
  },
  series: {
    type: 'pie',
    radius: ['22%', '51%'],
    center: ['50%', '50%'],
    avoidLabelOverlap: false,
    hoverAnimation: true,
    startAngle: 20,
    label: {
      normal: {
        fontSize: 12,
        color: '#000000'
      }
    },
    labelLine: {
      normal: {
        show: false,
        length: 1,
        length2: 1
      }
    },
    itemStyle: {
      normal: {
        borderWidth: 4, // 设置border的宽度有多大
        borderColor: '#FFFFFF'
      }
    },
    data: [{
      value: 1026, // serverNum
      name: '已安装agent主机总数',
      itemStyle: {
        normal: {
          color: '#3CA6FF'
        },
        emphasis: {
          color: '#3CA6FF'
        }
      }
    },
    {
      value: 1241, // serverNum
      name: '主机总数',
      itemStyle: {
        normal: {
          color: '#FFA044'
        },
        emphasis: {
          color: '#FFA044'
        }
      }
    }
    ]
  }
}
export const lines_option_month = {
  grid: {
    left: '24',
    right: '1',
    top: '10',
    bottom: '0',
    containLabel: true
  },
  tooltip: {
    show: true,
    trigger: 'axis',
    triggerOn: 'click',
    backgroundColor: '#18629A',
    axisPointer: {
      type: 'cross'
    }
  },
  xAxis: {
    type: '',
    data: [],
    boundaryGap: false,
    splitLine: {
      show: false
    },
    axisLine: {
      show: true,
      lineStyle: {
        color: '#3B6F9F' // x轴轴线颜色
      }
    },
    axisLabel: {
      showMaxLabel: true,
      color: '#81BAE5',
      rotate: 45
    }
  },
  yAxis: {
    type: 'value',
    tooltip: {
      trigger: 'item'
    },
    axisLine: {
      show: true,
      lineStyle: {
        color: '#3B6F9F' // y轴轴线颜色
      },
      axisLabel: {
        color: '#81BAE5'
      }
    },
    axisLabel: {
      showMaxLabel: true,
      color: '#81BAE5',
      rotate: 30
    },
    axisTick: {
      show: false
    },
    splitLine: {
      lineStyle: {
        type: 'dashed', // 虚线
        color: ['#3B6F9F']
      },
      show: true // 隐藏
    }
  },
  series: [{
    name: '修复率',
    type: 'line',
    data: [],
    itemStyle: {
      normal: {
        color: '#3CA6FF'
      }
    },
    showSymbol: false
  }]
}
